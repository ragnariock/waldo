<!DOCTYPE html>

<html>
    
<head>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js">
    </script>
</head>

<body>

<h1 id="header">Gun Detection Demo</h1>

<script type="text/javascript">
        function loading(){
            $("#loadingInput").show();
            $("#loadingOutput").show();
            $("#contentInput").hide();
            $("#videoInput").hide();
            $("#contentOutput").hide();
            $("#videoOutput").hide();       
        }
</script>
    
<script>
        var upload = {{ upload }}
        var results = {{ results }}
        var confidence = {{ confidence }}
        var buffer = {{ buffer }}
        var uploadTime = {{ uploadTime }}
        var detectTime = {{ detectTime }}
</script>
      
<form id="myForm" method = "POST" enctype = "multipart/form-data">
         <input type = "file" name = "file" />
         <input type = "submit" onclick="$('#contentInput').hide(); $('#contentOutput').hide(); $('#loadingInput').show(); $('#loadingOutput').show();" value="Submit"/>
     <input type="button" onClick="window.location.href=window.location.href" value="Clear">
    
    <div class="sel">
    <p>Confidence:
    
    <select class="form-control" id="confidence" name="conf">
    <option value="0.5">0.5</option>
    <option value="0.6">0.6</option>
    <option value="0.7" selected>0.7</option>
    <option value="0.8">0.8</option>
    <option value="0.9">0.9</option>
    </select>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   
    &nbsp;&nbsp; 
    Buffer:
    <select class="form-control" id="buff" name="buff">
    <option value="0">0</option>
    <option value="5" selected>5</option>
    <option value="10">10</option>
    <option value="15">15</option>
    <option value="20">20</option>
    <option value="25">25</option>
    </select>
 
    </p>
    </div>
    
</form>
    
<br> 

<p>Input:</p>

<div id="loadingInput" style="display:none;"><img src="/static/loading-image.gif" alt="" /></div>

<img id="contentInput" src="{{ upload }}" method = 'POST' alt="" onerror='this.style.display = "none"'>
        
<video id="videoInput" method = 'POST'>
<source  src="{{ upload }}" type="video/mp4">
</video>

<p>Results:</p>

<div id="loadingOutput" style="display:none;"><img src="/static/loading-image.gif" alt="" /></div>
    
<img id="contentOutput" src="{{ results }}" method = 'POST' alt="" onerror='this.style.display = "none"'>

<video id="videoOutput" method = 'POST'>
<source  src="{{ results }}" type="video/mp4">
</video>
        
<br> 

<p>Metrics:</p>
    
<textarea rows="6" cols="50">

{{ confidence }}
{{ buffer }}
    
{{ uploadTime }}
{{ detectTime }}
</textarea>
    
</body>
</html>
